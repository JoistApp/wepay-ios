<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>WePay iOS SDK: &lt;WPCardReaderDelegate &gt; Protocol Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">WePay iOS SDK
   &#160;<span id="projectnumber">7.0.0-beta-2</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('protocol_w_p_card_reader_delegate_01-p.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Instance Methods</a> &#124;
<a href="protocol_w_p_card_reader_delegate_01-p-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">&lt;WPCardReaderDelegate &gt; Protocol Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Inheritance diagram for &lt;WPCardReaderDelegate &gt;:</div>
<div class="dyncontent">
 <div class="center">
  <img src="protocol_w_p_card_reader_delegate_01-p.png" usemap="#_3CWPCardReaderDelegate_20_3E_map" alt=""/>
  <map id="_3CWPCardReaderDelegate_20_3E_map" name="_3CWPCardReaderDelegate_20_3E_map">
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Instance Methods</h2></td></tr>
<tr class="memitem:a34f3035d3ca5fc6e965877e50f27d320"><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="protocol_w_p_card_reader_delegate_01-p.html#a34f3035d3ca5fc6e965877e50f27d320">selectEMVApplication:completion:</a></td></tr>
<tr class="separator:a34f3035d3ca5fc6e965877e50f27d320"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a95fede87c0dbfecc5398ba5956286d2d"><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="protocol_w_p_card_reader_delegate_01-p.html#a95fede87c0dbfecc5398ba5956286d2d">didReadPaymentInfo:</a></td></tr>
<tr class="separator:a95fede87c0dbfecc5398ba5956286d2d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a927b465dd93f435f0f77b97584d41a9d"><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="protocol_w_p_card_reader_delegate_01-p.html#a927b465dd93f435f0f77b97584d41a9d">didFailToReadPaymentInfoWithError:</a></td></tr>
<tr class="separator:a927b465dd93f435f0f77b97584d41a9d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2a211837a9362e39c72557f2659bbd72"><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="protocol_w_p_card_reader_delegate_01-p.html#a2a211837a9362e39c72557f2659bbd72">selectCardReader:completion:</a></td></tr>
<tr class="separator:a2a211837a9362e39c72557f2659bbd72"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a07c3df9cd8b87291ff34a74d8e6365d9"><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="protocol_w_p_card_reader_delegate_01-p.html#a07c3df9cd8b87291ff34a74d8e6365d9">cardReaderDidChangeStatus:</a></td></tr>
<tr class="separator:a07c3df9cd8b87291ff34a74d8e6365d9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acc4ea73f3821d93faf5883dc19170977"><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="protocol_w_p_card_reader_delegate_01-p.html#acc4ea73f3821d93faf5883dc19170977">shouldResetCardReaderWithCompletion:</a></td></tr>
<tr class="separator:acc4ea73f3821d93faf5883dc19170977"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a194a97f8661f88d376c7b788f7a00bd3"><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="protocol_w_p_card_reader_delegate_01-p.html#a194a97f8661f88d376c7b788f7a00bd3">authorizeAmountWithCompletion:</a></td></tr>
<tr class="separator:a194a97f8661f88d376c7b788f7a00bd3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Method Documentation</h2>
<a id="a194a97f8661f88d376c7b788f7a00bd3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a194a97f8661f88d376c7b788f7a00bd3">&#9670;&nbsp;</a></span>authorizeAmountWithCompletion:()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">- (void <a class="el" href="protocol_w_p_card_reader_delegate-p.html">WPCardReaderDelegate</a>) authorizeAmountWithCompletion: </td>
          <td></td>
          <td class="paramtype">(void(^)(NSDecimalNumber *amount, NSString *currencyCode, long accountId))&#160;</td>
          <td class="paramname"><em>completion</em></td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">optional</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Called when an EMV reader is connected, so that you can provide the amount, currency code and the <a class="el" href="interface_we_pay.html">WePay</a> account Id of the merchant. The transaction cannot proceed until the completion block is executed. Note: In the staging environment, use amounts of 20.61, 120.61, 23.61 and 123.61 to simulate authorization errors. Amounts of 21.61, 121.61, 22.61, 122.61, 24.61, 124.61, 25.61, and 125.61 will simulate successful auth. Example: completion([NSDecimalNumber decimalNumberWithString:"21.61"], kWPCurrencyCodeUSD, 1234567);</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">completion</td><td>The block to be executed with the amount, currency code and merchant account Id for the transaction. </td></tr>
    <tr><td class="paramname">amount</td><td>The amount for the transaction. For USD amounts, there can be a maximum of two places after the decimal point. (amount.decimalValue._exponent must be &gt;= -2) </td></tr>
    <tr><td class="paramname">currencyCode</td><td>The 3-character ISO 4217 currency code. The only supported currency code is kWPCurrencyCodeUSD. </td></tr>
    <tr><td class="paramname">accountId</td><td>The <a class="el" href="interface_we_pay.html">WePay</a> account id of the merchant. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a07c3df9cd8b87291ff34a74d8e6365d9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a07c3df9cd8b87291ff34a74d8e6365d9">&#9670;&nbsp;</a></span>cardReaderDidChangeStatus:()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">- (void <a class="el" href="protocol_w_p_card_reader_delegate-p.html">WPCardReaderDelegate</a>) cardReaderDidChangeStatus: </td>
          <td></td>
          <td class="paramtype">(id)&#160;</td>
          <td class="paramname"><em>status</em></td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">optional</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Called when the card reader changes status.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">status</td><td>Current status of the card reader, one of: kWPCardReaderStatusSearching; kWPCardReaderStatusNotConnected; kWPCardReaderStatusConnected; kWPCardReaderStatusCheckingReader; kWPCardReaderStatusConfiguringReader; kWPCardReaderStatusWaitingForCard; kWPCardReaderStatusShouldNotSwipeEMVCard; kWPCardReaderStatusChipErrorSwipeCard; kWPCardReaderStatusSwipeDetected; kWPCardReaderStatusCardDipped; kWPCardReaderStatusTokenizing; kWPCardReaderStatusAuthorizing; kWPCardReaderStatusStopped; </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a927b465dd93f435f0f77b97584d41a9d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a927b465dd93f435f0f77b97584d41a9d">&#9670;&nbsp;</a></span>didFailToReadPaymentInfoWithError:()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">- (void <a class="el" href="protocol_w_p_card_reader_delegate-p.html">WPCardReaderDelegate</a>) didFailToReadPaymentInfoWithError: </td>
          <td></td>
          <td class="paramtype">(NSError *)&#160;</td>
          <td class="paramname"><em>error</em></td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">required</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Called when an error occurs while reading a card.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">error</td><td>The error which caused the failure. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a95fede87c0dbfecc5398ba5956286d2d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a95fede87c0dbfecc5398ba5956286d2d">&#9670;&nbsp;</a></span>didReadPaymentInfo:()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">- (void <a class="el" href="protocol_w_p_card_reader_delegate-p.html">WPCardReaderDelegate</a>) didReadPaymentInfo: </td>
          <td></td>
          <td class="paramtype">(<a class="el" href="interface_w_p_payment_info.html">WPPaymentInfo</a> *)&#160;</td>
          <td class="paramname"><em>paymentInfo</em></td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">required</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Called when payment info is successfully obtained from a card.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">paymentInfo</td><td>The payment info. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a2a211837a9362e39c72557f2659bbd72"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2a211837a9362e39c72557f2659bbd72">&#9670;&nbsp;</a></span>selectCardReader:completion:()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">- (void <a class="el" href="protocol_w_p_card_reader_delegate-p.html">WPCardReaderDelegate</a>) selectCardReader: </td>
          <td></td>
          <td class="paramtype">(NSArray *)&#160;</td>
          <td class="paramname"><em>cardReaderNames</em></td>
        </tr>
        <tr>
          <td class="paramkey">completion:</td>
          <td></td>
          <td class="paramtype">(void(^)(NSInteger selectedIndex))&#160;</td>
          <td class="paramname"><em>completion</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">required</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Called after detecting eligible card readers. Either present this card reader list to the merchant, or make some internal default choice. The transaction cannot proceed until the completion block is executed. Example: completion(0);</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cardreaderNames</td><td>The list of detected card readers. Possible entries include "AUDIOJACK" or "MOB30*", where '*' indicates the last part of the card reader's serial number found on the back of the device. </td></tr>
    <tr><td class="paramname">completion</td><td>The block to be executed with the index of the selected card reader. </td></tr>
    <tr><td class="paramname">selectedIndex</td><td>The index of the selected card reader in the array of cardReaderNames. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a34f3035d3ca5fc6e965877e50f27d320"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a34f3035d3ca5fc6e965877e50f27d320">&#9670;&nbsp;</a></span>selectEMVApplication:completion:()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">- (void <a class="el" href="protocol_w_p_card_reader_delegate-p.html">WPCardReaderDelegate</a>) selectEMVApplication: </td>
          <td></td>
          <td class="paramtype">(NSArray *)&#160;</td>
          <td class="paramname"><em>applications</em></td>
        </tr>
        <tr>
          <td class="paramkey">completion:</td>
          <td></td>
          <td class="paramtype">(void(^)(NSInteger selectedIndex))&#160;</td>
          <td class="paramname"><em>completion</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">required</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Called when the EMV card contains more than one application. The applications should be presented to the payer for selection. Once the payer makes a choice, you need to execute the completion block with the index of the selected application. The transaction cannot proceed until the completion block is executed. Example: completion(0);</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">applications</td><td>The array of NSStrings containing application names from the card. </td></tr>
    <tr><td class="paramname">completion</td><td>The block to be executed with the index of the selected application. </td></tr>
    <tr><td class="paramname">selectedIndex</td><td>The index of the selected application in the array of applications from the card. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="acc4ea73f3821d93faf5883dc19170977"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acc4ea73f3821d93faf5883dc19170977">&#9670;&nbsp;</a></span>shouldResetCardReaderWithCompletion:()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">- (void <a class="el" href="protocol_w_p_card_reader_delegate-p.html">WPCardReaderDelegate</a>) shouldResetCardReaderWithCompletion: </td>
          <td></td>
          <td class="paramtype">(void(^)(BOOL shouldReset))&#160;</td>
          <td class="paramname"><em>completion</em></td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">optional</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Optionally called when the connected card reader is already configured, to give the app an opportunity to reset the device. If this method is implemented, the transaction cannot proceed until the completion block is executed. The card reader must be reset here if the merchant manually resets the reader via the hardware reset button on the reader. Examples: completion(YES); completion(NO);</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">completion</td><td>The block to be executed with the answer to the question: "Should the card reader be reset?". </td></tr>
    <tr><td class="paramname">shouldReset</td><td>The answer to the question: "Should the card reader be reset?". </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/>The documentation for this protocol was generated from the following file:<ul>
<li><a class="el" href="_we_pay_8h_source.html">WePay.h</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="protocol_w_p_card_reader_delegate_01-p.html">WPCardReaderDelegate </a></li>
    <li class="footer">Generated on Fri Apr 14 2017 11:23:19 for WePay iOS SDK by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
